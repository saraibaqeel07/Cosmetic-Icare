{
    "sourceFile": "src/layouts/Dashboard/Pages/CreatePatient.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1744022310408,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1744130466441,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -595,9 +595,9 @@\n                                             mt: 2,\r\n                                         }}\r\n                                     >\r\n                                         <Avatar\r\n-                                            src={imageURL}\r\n+                                            src={import.meta.env.VITE_BASE_URL+imageURL}\r\n                                             alt=\"Profile\"\r\n                                             sx={{\r\n                                                 position: \"relative\",\r\n                                                 width: \"100%\",\r\n"
                }
            ],
            "date": 1744022310408,
            "name": "Commit-0",
            "content": "import { useEffect, useRef, useState } from \"react\";\r\nimport ApiServices from \"../../../services/Apis\";\r\nimport { PrimaryButton } from \"../../../components/buttons\";\r\nimport { Avatar, Box, Button, CircularProgress, Dialog, DialogContent, DialogTitle, Divider, Grid, IconButton, InputAdornment, InputLabel, Paper, TextField, Typography } from \"@mui/material\";\r\nimport InputField from \"../../../components/input\";\r\nimport { Controller, useForm } from \"react-hook-form\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { showErrorToast, showPromiseToast, showSuccessToast } from \"../../../components/Toaster\";\r\nimport UploadIcon from \"@mui/icons-material/Upload\";\r\nimport OTPInput from \"react-otp-input\";\r\nimport VisibilityIcon from \"@mui/icons-material/Visibility\";\r\nimport VisibilityOffIcon from \"@mui/icons-material/VisibilityOff\";\r\nimport { Visibility, VisibilityOff } from \"@mui/icons-material\";\r\nimport { DatePicker, LocalizationProvider } from \"@mui/x-date-pickers\";\r\nimport { AdapterDayjs } from \"@mui/x-date-pickers/AdapterDayjs\";\r\nimport SelectField from \"../../../components/select\";\r\n\r\n\r\nconst CreatePatient = () => {\r\n    const navigate = useNavigate()\r\n    const [userData, setUserData] = useState(null)\r\n    const { register, control, handleSubmit, setValue, getValues, formState: { errors }, reset, watch } = useForm();\r\n    const [title, setTitle] = useState(null)\r\n\r\n    const [step, setStep] = useState(1); // 1: OTP, 2: Reset Password\r\n    const [otp, setOtp] = useState(\"\");\r\n    const [otpError, setOtpError] = useState(false);\r\n    const [timer, setTimer] = useState(30);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [open, setOpen] = useState(false)\r\n    const [password, setPassword] = useState(\"\");\r\n    const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n\r\n    const [showPassword2, setShowPassword2] = useState(false);\r\n    const [otpToken, setOtpToken] = useState(null)\r\n    const [showPassword, setShowPassword] = useState(false);\r\n    const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n    const {\r\n        register: register4,\r\n        handleSubmit: handleSubmit4,\r\n        setValue: setValue4,\r\n        getValues: getValues4,\r\n        reset: reset4,\r\n        formState: { errors: errors4 },\r\n    } = useForm();\r\n\r\n    // Simulate OTP Submission\r\n    const handleOtpSubmit = () => {\r\n        if (otp.length !== 4) {\r\n            setOtpError(true);\r\n            return;\r\n        }\r\n        setIsLoading(true);\r\n        setTimeout(() => {\r\n            setIsLoading(false);\r\n            SubmitOTP()\r\n            setStep(2); // Move to reset password step\r\n        }, 2000);\r\n    };\r\n\r\n    // Simulate Reset Password Submission\r\n    const handleResetSubmit = () => {\r\n        if (password !== confirmPassword) {\r\n            alert(\"Passwords do not match!\");\r\n            return;\r\n        }\r\n        setIsLoading(true);\r\n        setTimeout(() => {\r\n            setIsLoading(false);\r\n            // Close dialog after password reset\r\n        }, 2000);\r\n    };\r\n    const fileInputRef = useRef(null);\r\n\r\n    const [loader, setLoader] = useState(false)\r\n\r\n    const [imageURL, setImageURL] = useState()\r\n    const [hovered, setHovered] = useState(false);\r\n\r\n\r\n\r\n\r\n    const handleImageClick = () => {\r\n        fileInputRef.current.click();\r\n    };\r\n\r\n    const handleFileChange = async (e) => {\r\n        try {\r\n            const file = e.target.files[0];\r\n            if (file) {\r\n                setValue(\"image\", file, { shouldValidate: true }); // Set value and trigger validation\r\n            }\r\n            const formData = new FormData();\r\n            formData.append(\"document\", e.target.files[0]);\r\n\r\n            const response = await axios.post(\r\n                'https://cosmetic.theappkit.com/api/system/upload',\r\n                formData,\r\n                {\r\n                    headers: {\r\n                        'Content-Type': 'multipart/form-data'\r\n                    }\r\n                }\r\n            );\r\n\r\n            console.log(response?.data?.data?.path);\r\n\r\n            setImageURL( response?.data?.data?.path);\r\n\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n\r\n        }\r\n    };\r\n    const CreatePatient = async () => {\r\n        setLoader(true);\r\n        try {\r\n            let obj = {\r\n                title:title?.id,\r\n                first_name: getValues('fname'),\r\n                last_name: getValues('lname'),\r\n                dob: getValues('selectedDate'),\r\n                address: getValues('address'),\r\n                email: getValues('email'),\r\n                post_code: getValues('post'),\r\n                phone: getValues('phone'),\r\n                notes: getValues('notes'),\r\n                picture: imageURL,\r\n                kin_details: {\r\n                    name: getValues('name'),\r\n                    address: getValues('kinaddress'),\r\n                    email: getValues('kinemail'),\r\n                    phone: getValues('kinphone'),\r\n                  },\r\n                  general_practitioner: {\r\n                    name: getValues('genname'),\r\n                    address: getValues('genaddress'),\r\n                    email: getValues('genemail'),\r\n                    phone: getValues('genphone'),\r\n                  },\r\n\r\n            };\r\n\r\n            const promise = ApiServices.CreatePatient(obj);\r\n\r\n            // Handle the API response properly\r\n            const response = await promise;\r\n            console.log(response);\r\n\r\n            showPromiseToast(\r\n                promise,\r\n                \"Saving...\",\r\n                \"Added Successfully\",\r\n                \"Something Went Wrong\"\r\n            );\r\n\r\n            // Navigate if response is successful\r\n            if (response?.responseCode === 200) {\r\n                console.log(response);\r\n                setImageURL(null)\r\n                navigate('/patients')\r\n\r\n\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error);\r\n            showErrorToast(error)\r\n        } finally {\r\n\r\n            setLoader(false);\r\n        }\r\n    };\r\n\r\n    const SendOtp = async (val) => {\r\n        if (val != 'resend') {\r\n            setIsLoading(true)\r\n        }\r\n\r\n\r\n        setTimer(60);\r\n        try {\r\n            let obj = {\r\n                email: userData?.email\r\n            };\r\n\r\n            const data = await ApiServices.SendOtp(obj);\r\n            console.log(data);\r\n            if (data.responseCode == 206) {\r\n                setOtp('')\r\n                showSuccessToast('Otp Sent Successfully')\r\n\r\n            }\r\n\r\n        } catch (error) {\r\n\r\n            console.log(error)\r\n        }\r\n        finally {\r\n            setIsLoading(false)\r\n            setStep(1)\r\n            setOpen(true)\r\n\r\n        }\r\n    }\r\n\r\n    const UpdatePassword = async (sendData, result) => {\r\n        setIsLoading(true)\r\n        console.log(otpToken, \"otpToken2\");\r\n        try {\r\n            let obj = {\r\n                otp_token: otpToken,\r\n                email: userData?.email,\r\n                password: getValues4('password'),\r\n                confirm_password: getValues4('confirmPassword'),\r\n            };\r\n\r\n            const data = await ApiServices.SendOtp(obj);\r\n            console.log(data);\r\n            if (data.responseCode == 200) {\r\n                setOtp('')\r\n\r\n                reset4()\r\n                setConfirmPassword(false)\r\n\r\n\r\n\r\n            }\r\n        } catch (error) {\r\n            setOtpError(true)\r\n        }\r\n        finally {\r\n            setIsLoading(false)\r\n            setOpen(false)\r\n            showSuccessToast('Password Reset Successfully')\r\n        }\r\n    };\r\n\r\n    const SubmitOTP = async (val) => {\r\n\r\n        setIsLoading(true)\r\n\r\n\r\n\r\n        try {\r\n            let obj = {\r\n                email: userData?.email,\r\n                otp: otp,\r\n            };\r\n\r\n            const data = await ApiServices.SendOtp(obj);\r\n            console.log(data?.data, 'tesetttt');\r\n            if (data.responseCode == 206) {\r\n                console.log(data);\r\n                setOtpToken(data?.data?.otp_token)\r\n\r\n\r\n            }\r\n        } catch (error) {\r\n            setOtpError(true)\r\n        }\r\n        finally {\r\n            setIsLoading(false)\r\n\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        let interval;\r\n        if (timer > 0) {\r\n            interval = setInterval(() => {\r\n                setTimer((prev) => prev - 1);\r\n            }, 1000);\r\n        } else {\r\n            clearInterval(interval);\r\n        }\r\n        return () => clearInterval(interval);\r\n    }, [timer]);\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Dialog open={open} onClose={() => setOpen(false)} fullWidth maxWidth=\"sm\">\r\n\r\n                <DialogContent>\r\n                    {step === 1 ? (\r\n                        // OTP Verification Step\r\n                        <Box>\r\n                            <Typography\r\n                                className=\"heading-font\"\r\n                                variant=\"h5\"\r\n                                mb={2}\r\n                                sx={{\r\n                                    fontWeight: \"bold\",\r\n                                    textAlign: \"center\",\r\n\r\n\r\n                                }}\r\n                            >\r\n                                Enter OTP\r\n                            </Typography>\r\n                            <div className=\"otp-container\" style={{ display: \"flex\", justifyContent: \"center\", gap: \"8px\" }}>\r\n                                <OTPInput\r\n                                    value={otp}\r\n                                    onChange={(otp) => {\r\n                                        setOtp(otp);\r\n                                        setOtpError(false);\r\n                                    }}\r\n                                    numInputs={4}\r\n                                    renderSeparator={<span className=\"separator\">-</span>}\r\n                                    renderInput={(props) => (\r\n                                        <input\r\n                                            className=\"otp-input\"\r\n                                            {...props}\r\n                                            style={{\r\n                                                width: \"40px\",\r\n                                                height: \"40px\",\r\n                                                textAlign: \"center\",\r\n                                                fontSize: \"18px\",\r\n                                                border: \"1px solid #ccc\",\r\n                                                borderRadius: \"5px\",\r\n                                            }}\r\n                                        />\r\n                                    )}\r\n                                />\r\n                            </div>\r\n                            {otpError && (\r\n                                <span style={{ color: \"red\", marginTop: \"5px\", fontSize: \"12px\" }}>\r\n                                    &nbsp; OTP is Invalid\r\n                                </span>\r\n                            )}\r\n                            <div\r\n                                style={{\r\n                                    display: \"flex\",\r\n                                    justifyContent: \"space-between\",\r\n                                    alignItems: \"center\",\r\n                                    marginTop: \"10px\",\r\n                                }}\r\n                            >\r\n                                <span style={{ fontSize: \"14px\", color: \"#6B7280\" }}>Resend OTP in {timer}s</span>\r\n                                <Button\r\n                                    variant=\"text\"\r\n                                    disabled={timer > 0}\r\n                                    onClick={() => SendOtp('resend')}\r\n                                    sx={{\r\n                                        fontSize: \"14px\",\r\n                                        textTransform: \"capitalize\",\r\n                                        color: timer > 0 ? \"#9CA3AF\" : \"#0EA5EA\",\r\n                                    }}\r\n                                >\r\n                                    Resend\r\n                                </Button>\r\n                            </div>\r\n                            <Button\r\n                                onClick={handleOtpSubmit}\r\n                                fullWidth\r\n                                variant=\"contained\"\r\n                                sx={{\r\n                                    background: \"#18A5C3\",\r\n                                    color: \"white\",\r\n                                    borderRadius: \"8px\",\r\n                                    textTransform: \"capitalize\",\r\n                                    p: \"14px 40px\",\r\n                                    mt: 2,\r\n                                }}\r\n                                disabled={isLoading || otp.length !== 4}\r\n                            >\r\n                                {isLoading ? <CircularProgress size={24} sx={{ color: \"black\" }} /> : \"Submit\"}\r\n                            </Button>\r\n                        </Box>\r\n                    ) : (\r\n                        // Reset Password Step\r\n                        <Box sx={{ width: \"100%\" }} component={'form'} onSubmit={handleSubmit4(UpdatePassword)}>\r\n                            <Typography\r\n                                className=\"heading-font\"\r\n                                variant=\"h5\"\r\n                                mb={2}\r\n                                sx={{\r\n                                    fontWeight: \"bold\",\r\n                                    textAlign: \"center\",\r\n\r\n\r\n                                }}\r\n                            >\r\n                                Reset Password\r\n                            </Typography>\r\n                            {/* Password Field */}\r\n                            <TextField\r\n                                fullWidth\r\n                                placeholder=\"Password\"\r\n                                variant=\"outlined\"\r\n\r\n                                type={showPassword ? \"text\" : \"password\"}\r\n                                {...register4(\"password\", {\r\n                                    required: \"Password is required\",\r\n                                })}\r\n                                error={!!errors4.password}\r\n                                helperText={\r\n                                    errors4.password ? errors4.password.message : \"\"\r\n                                }\r\n                                InputProps={{\r\n\r\n                                    endAdornment: (\r\n                                        <InputAdornment position=\"end\">\r\n                                            <IconButton\r\n                                                onClick={() => setShowPassword(!showPassword)}\r\n                                                edge=\"end\"\r\n                                                sx={{\r\n                                                    \":focus\": {\r\n                                                        outline: \"none !important\"\r\n                                                    }\r\n                                                }}\r\n                                            >\r\n                                                {showPassword ? (\r\n                                                    <VisibilityIcon\r\n                                                        sx={{ color: \"#0F172A\", fontSize: \"20px\" }}\r\n                                                    />\r\n                                                ) : (\r\n                                                    <VisibilityOffIcon\r\n                                                        sx={{ color: \"#0F172A\", fontSize: \"20px\" }}\r\n                                                    />\r\n                                                )}\r\n                                            </IconButton>\r\n                                        </InputAdornment>\r\n                                    ),\r\n                                    style: {\r\n                                        color: \"#0F172A\",\r\n                                        fontSize: \"16px\",\r\n                                        borderRadius: 8, // Rounded corners\r\n                                    },\r\n                                }}\r\n                                sx={{\r\n                                    my: 1,\r\n                                    backgroundColor: \"#1E1E1E\", // Dark background color\r\n                                    \"& .MuiOutlinedInput-root\": {\r\n                                        backgroundColor: \"white\",\r\n                                        \"& fieldset\": { borderColor: \"rgb(182, 182, 182)\" }, // Blue border\r\n                                        \"&:hover fieldset\": { borderColor: \"rgb(182, 182, 182)\" },\r\n                                        \"&.Mui-focused fieldset\": {\r\n                                            borderColor: \"rgb(182, 182, 182)\",\r\n                                        },\r\n                                    },\r\n                                    \"&.MuiFormControl-fullWidth\": {\r\n                                        background: \"transparent !important\",\r\n                                        borderRadius: '10px !important'\r\n                                    },\r\n                                    \"& .MuiInputLabel-root\": { color: \"black\" },\r\n                                    \"& .MuiInputLabel-root.Mui-focused\": { color: \"black\" },\r\n                                }}\r\n                            />\r\n\r\n                            {/* Confirm Password Field */}\r\n                            <TextField\r\n                                fullWidth\r\n                                placeholder=\"Confirm Password\"\r\n\r\n                                variant=\"outlined\"\r\n                                type={showPassword2 ? \"text\" : \"password\"}\r\n                                {...register4(\"confirmPassword\", {\r\n                                    required: \"Confirm Password is required\",\r\n                                    validate: (value) =>\r\n                                        value === getValues4(\"password\") ||\r\n                                        \"Passwords do not match\",\r\n                                })}\r\n                                error={!!errors4.confirmPassword}\r\n                                helperText={\r\n                                    errors4.confirmPassword\r\n                                        ? errors4.confirmPassword.message\r\n                                        : \"\"\r\n                                }\r\n                                InputProps={{\r\n\r\n                                    endAdornment: (\r\n                                        <InputAdornment position=\"end\">\r\n                                            <IconButton\r\n                                                onClick={() => setShowPassword2(!showPassword2)}\r\n                                                edge=\"end\"\r\n                                                sx={{\r\n                                                    \":focus\": {\r\n                                                        outline: \"none !important\"\r\n                                                    }\r\n                                                }}\r\n                                            >\r\n                                                {showPassword2 ? (\r\n                                                    <VisibilityIcon\r\n                                                        sx={{ color: \"#0F172A\", fontSize: \"20px\" }}\r\n                                                    />\r\n                                                ) : (\r\n                                                    <VisibilityOffIcon\r\n                                                        sx={{ color: \"#0F172A\", fontSize: \"20px\" }}\r\n                                                    />\r\n                                                )}\r\n                                            </IconButton>\r\n                                        </InputAdornment>\r\n                                    ),\r\n                                    style: {\r\n                                        color: \"#0F172A\",\r\n                                        fontSize: \"16px\",\r\n                                        borderRadius: 8, // Rounded corners\r\n                                    },\r\n                                }}\r\n                                sx={{\r\n                                    my: 1,\r\n                                    backgroundColor: \"#1E1E1E\", // Dark background color\r\n                                    \"& .MuiOutlinedInput-root\": {\r\n                                        backgroundColor: \"white\",\r\n                                        \"& fieldset\": { borderColor: \"rgb(182, 182, 182)\" }, // Blue border\r\n                                        \"&:hover fieldset\": { borderColor: \"rgb(182, 182, 182)\" },\r\n                                        \"&.Mui-focused fieldset\": {\r\n                                            borderColor: \"rgb(182, 182, 182)\",\r\n                                        },\r\n                                    },\r\n                                    \"&.MuiFormControl-fullWidth\": {\r\n                                        background: \"transparent !important\",\r\n                                        borderRadius: '10px !important'\r\n                                    },\r\n                                    \"& .MuiInputLabel-root\": { color: \"black\" },\r\n                                    \"& .MuiInputLabel-root.Mui-focused\": { color: \"black\" },\r\n                                }}\r\n                            />\r\n\r\n                            <Button\r\n                                type={\"submit\"}\r\n                                fullWidth\r\n                                variant={\"contained\"}\r\n                                sx={{\r\n                                    background: \" #18A5C3\",\r\n                                    color: 'white',\r\n                                    borderRadius: \"8px\",\r\n                                    mt: 2,\r\n                                    textTransform: 'capitalize',\r\n                                    p: \"14px 40px\",\r\n                                    \"&.Mui-disabled\": {\r\n                                        background: \"#337DBD\",\r\n                                    },\r\n                                }}\r\n                                disabled={isLoading}\r\n                            >\r\n                                {isLoading ? (\r\n                                    <CircularProgress\r\n                                        sx={{\r\n                                            \"&.MuiCircularProgress-root\": {\r\n                                                width: \"26px !important\",\r\n                                                height: \"26px !important\",\r\n                                            },\r\n                                            color: 'black',\r\n                                        }}\r\n                                    />\r\n                                ) : (\r\n                                    \"Submit\"\r\n                                )}\r\n                            </Button>\r\n                        </Box>\r\n                    )}\r\n                </DialogContent>\r\n            </Dialog>\r\n            <Paper sx={{ width: \"100%\", overflow: \"hidden\", boxShadow: 'none', backgroundColor: '#ffff', borderRadius: '12px' }}>\r\n\r\n\r\n\r\n                <Box component={'form'} p={3} sx={{ borderRadius: '12px' }} onSubmit={handleSubmit(CreatePatient)} >\r\n                    <Typography variant=\"h5\" sx={{ fontWeight: 700 }}>\r\n                        Create New Patient\r\n                    </Typography>\r\n\r\n                    <Grid container mt={4} spacing={2}>\r\n\r\n                        <Grid item xs={10}>\r\n                            <InputLabel sx={{\r\n                                textTransform: \"capitalize\", textAlign: 'left', fontWeight: 700, display: 'block',\r\n\r\n                                fontSize: \"14px\",\r\n                                color: \"#333\",\r\n                                marginBottom: \"4px\",\r\n                            }}>\r\n\r\n                                 Picture :*\r\n                            </InputLabel>\r\n\r\n                            <Controller\r\n                                name=\"image\"\r\n                                control={control}\r\n                                rules={{ required: \" picture is required\" }}\r\n                                render={() => (\r\n                                    <Box\r\n                                        component={\"div\"}\r\n                                        onMouseEnter={() => setHovered(true)}\r\n                                        onMouseLeave={() => setHovered(false)}\r\n                                        sx={{\r\n                                            position: \"relative\",\r\n                                            width: 75,\r\n                                            height: 75,\r\n                                            mt: 2,\r\n                                        }}\r\n                                    >\r\n                                        <Avatar\r\n                                            src={imageURL}\r\n                                            alt=\"Profile\"\r\n                                            sx={{\r\n                                                position: \"relative\",\r\n                                                width: \"100%\",\r\n                                                height: \"100%\",\r\n                                                borderRadius: \"50%\",\r\n                                                fontSize: 24,\r\n                                                backgroundColor: imageURL ? \"\" : \"#0EA5EA\",\r\n                                                color: \"white\",\r\n                                                cursor: \"pointer\",\r\n                                                objectFit: \"cover\",\r\n                                                textTransform: \"capitalize\",\r\n                                            }}\r\n                                            onClick={handleImageClick}\r\n                                        />\r\n\r\n                                        {hovered && <IconButton\r\n                                            sx={{\r\n                                                position: \"absolute\",\r\n                                                top: \"0\",\r\n                                                left: \"0\",\r\n                                                width: \"100%\",\r\n                                                padding: \"9px 15px\",\r\n                                                color: \"white\",\r\n                                                backgroundColor: \"rgba(0, 0, 0, 0.5)\",\r\n                                                borderRadius: \"50%\",\r\n                                                display: \"block\",\r\n                                                \"&:hover\": {\r\n                                                    backgroundColor: \"rgba(0, 0, 0, 0.7)\",\r\n                                                },\r\n                                            }}\r\n                                            onClick={handleImageClick}\r\n                                        >\r\n                                            <UploadIcon />\r\n                                            <Box sx={{ fontSize: \"12px\" }}>Upload Image</Box>\r\n                                        </IconButton>}\r\n\r\n                                        <input\r\n                                            type=\"file\"\r\n                                            ref={fileInputRef}\r\n                                            style={{ display: \"none\" }}\r\n                                            onChange={handleFileChange}\r\n                                            accept=\"image/*\"\r\n                                        />\r\n                                    </Box>\r\n                                )}\r\n                            />\r\n\r\n                            {(errors.image && !imageURL) && (\r\n                                <Typography sx={{ color: \"red\", fontSize: \"12px\", mt: 1 }}>\r\n                                    {errors.image.message}\r\n                                </Typography>\r\n                            )}\r\n                        </Grid>\r\n                        {/* <Grid item xs={5} display={'flex'} alignItems={'flex-end'}>\r\n              <PrimaryButton onClick={() => SendOtp()} title={\"Update Password\"} />\r\n            </Grid> */}\r\n                        <Grid item xs={3} mt={2}>\r\n                        <InputLabel sx={{\r\n                                textTransform: \"capitalize\", textAlign: 'left', fontWeight: 700, display: 'block',\r\n\r\n                                fontSize: \"14px\",\r\n                                color: \"#333\",\r\n                                marginBottom: \"4px\",\r\n                            }}>\r\n\r\n                                Title :*\r\n                            </InputLabel>\r\n                            <SelectField\r\n                                size={'small'}\r\n                                newLabel={'Select Type'}\r\n                                fullWidth={true}\r\n                                options={[{ id: 'Ms', name: 'Ms' }, { id: 'Miss', name: 'Miss' }, { id: 'Mrs', name: 'Mrs' }, { id: 'Mr', name: 'Mr' }]}\r\n                                selected={title}\r\n                                onSelect={(value) => {\r\n                                    setTitle(value)\r\n\r\n\r\n                                }}\r\n                            error={errors?.title?.message}\r\n                            register={register(\"title\", {\r\n                                required: 'Please select title.',\r\n                            })}\r\n                            />\r\n\r\n                        </Grid>\r\n                        <Grid item xs={3} mt={2}><InputField\r\n                            label={\"First Name :*\"}\r\n                            size={'small'}\r\n                            placeholder={\"First Name\"}\r\n                            error={errors?.fname?.message}\r\n                            register={register(\"fname\", {\r\n                                required:\r\n                                    \"Please enter your fname.\"\r\n\r\n                            })}\r\n                        /></Grid>\r\n                        <Grid item xs={3} mt={2}><InputField\r\n                            label={\"Last Name :*\"}\r\n                            size={'small'}\r\n                            placeholder={\"Last Name\"}\r\n                            error={errors?.lname?.message}\r\n                            register={register(\"lname\", {\r\n                                required:\r\n                                    \"Please enter your lname.\"\r\n\r\n                            })}\r\n                        /></Grid>\r\n                        <Grid item xs={3} mt={2}><InputField\r\n                            label={\"Email :*\"}\r\n                            size={'small'}\r\n                            placeholder={\"Email\"}\r\n                            error={errors?.email?.message}\r\n                            register={register(\"email\", {\r\n                                required:\r\n                                    \"Please enter your email.\"\r\n\r\n                            })}\r\n                        /></Grid>\r\n                        <Grid item xs={3} mt={2}>\r\n                            <LocalizationProvider dateAdapter={AdapterDayjs}>\r\n                                <Grid container spacing={2}>\r\n                                    {/* Single Date Selection */}\r\n                                    <Grid item xs={12}>\r\n                                        <Box>\r\n                                            <InputLabel sx={{\r\n                                                textTransform: \"capitalize\", textAlign: 'left', fontWeight: 700, display: 'block',\r\n\r\n                                                fontSize: \"14px\",\r\n                                                color: \"#333\",\r\n                                                marginBottom: 1.5,\r\n                                            }}>\r\n                                                DOB :*\r\n                                            </InputLabel>\r\n                                            <Controller\r\n                                                name=\"selectedDate\"\r\n                                                control={control}\r\n                                                rules={{ required: \"Please select a date\" }}\r\n                                                render={({ field }) => (\r\n                                                    <DatePicker\r\n                                                        {...field}\r\n                                                        value={field.value || null}\r\n                                                        onChange={(newValue) => field.onChange(newValue)}\r\n                                                        slotProps={{\r\n                                                            textField: {\r\n                                                                size: \"small\",\r\n                                                                fullWidth: true,\r\n                                                                sx: {\r\n                                                                    \"& .MuiOutlinedInput-root\": {\r\n                                                                        borderRadius: '12px',\r\n                                                                        \"& fieldset\": { border: \"1 solid #e0e0e0\" }, // Default border\r\n                                                                        \"&:hover fieldset\": { border: \"1 solid #0076bf\" }, // On hover\r\n                                                                        \"&.Mui-focused fieldset\": { border: \"1 solid #0076bf !important\" } // On focus\r\n                                                                    },\r\n                                                                },\r\n                                                            },\r\n                                                        }}\r\n                                                    />\r\n                                                )}\r\n                                            />\r\n                                            {errors.selectedDate && (\r\n                                                <Typography color=\"error\">{errors.selectedDate.message}</Typography>\r\n                                            )}\r\n                                        </Box>\r\n                                    </Grid>\r\n\r\n\r\n\r\n\r\n                                </Grid>\r\n\r\n\r\n                            </LocalizationProvider>\r\n                        </Grid>\r\n                        <Grid item xs={3} mt={2}><InputField\r\n                            label={\"Phone Number :*\"}\r\n                            size={'small'}\r\n                            placeholder={\"Phone Number\"}\r\n                            error={errors?.phone?.message}\r\n                            register={register(\"phone\", {\r\n                                required:\r\n                                    \"Please enter your phone.\"\r\n\r\n                            })}\r\n                        /></Grid>\r\n                        <Grid item xs={3} mt={2}><InputField\r\n                            label={\"Post Code :*\"}\r\n                            size={'small'}\r\n                            placeholder={\"Post Code\"}\r\n                            error={errors?.post?.message}\r\n                            register={register(\"post\", {\r\n                                required:\r\n                                    \"Please enter your postcode.\"\r\n\r\n                            })}\r\n                        /></Grid>\r\n                        <Grid item xs={3} mt={2}><InputField\r\n                            label={\"Address :*\"}\r\n                            size={'small'}\r\n                            placeholder={\"Address\"}\r\n                            error={errors?.address?.message}\r\n                            register={register(\"address\", {\r\n                                required:\r\n                                    \"Please enter your address.\"\r\n\r\n                            })}\r\n                        /></Grid>\r\n                        <Grid item xs={3} mt={2}><InputField\r\n                            label={\"Notes :\"}\r\n                            multiline\r\n                            rows={3}\r\n                            size={'small'}\r\n                            placeholder={\"Notes\"}\r\n                            error={errors?.notes?.message}\r\n                            register={register(\"notes\", {\r\n                                required:\r\n                                    false\r\n\r\n                            })}\r\n                        /></Grid>\r\n\r\n\r\n                    </Grid>\r\n                    <Divider sx={{mt:4}} />\r\n                    <Typography variant=\"h5\" sx={{ fontWeight: 700, mt: 4 }}>\r\n                        Next of Kin Details\r\n                    </Typography>\r\n                    <Grid container mt={4} spacing={2}>\r\n\r\n\r\n                        <Grid item xs={3} mt={2}><InputField\r\n                            label={\"Name :\"}\r\n                            size={'small'}\r\n                            placeholder={\"Name\"}\r\n                            error={errors?.name?.message}\r\n                            register={register(\"name\", {\r\n                                required:\r\n                                    false\r\n\r\n                            })}\r\n                        /></Grid>\r\n\r\n                        <Grid item xs={3} mt={2}><InputField\r\n                            label={\"Email :\"}\r\n                            size={'small'}\r\n                            placeholder={\"Email\"}\r\n                            error={errors?.kinemail?.message}\r\n                            register={register(\"kinemail\", {\r\n                                required:\r\n                                    false\r\n\r\n                            })}\r\n                        /></Grid>\r\n\r\n                        <Grid item xs={3} mt={2}><InputField\r\n                            label={\"Phone Number :\"}\r\n                            size={'small'}\r\n                            placeholder={\"Phone Number\"}\r\n                            error={errors?.kinphone?.message}\r\n                            register={register(\"kinphone\", {\r\n                                required:\r\n                                    false\r\n\r\n                            })}\r\n                        /></Grid>\r\n\r\n                        <Grid item xs={3} mt={2}><InputField\r\n                            label={\"Address :\"}\r\n                            size={'small'}\r\n                            placeholder={\"Address\"}\r\n                            error={errors?.kinaddress?.message}\r\n                            register={register(\"kinaddress\", {\r\n                                required:\r\n                                    false\r\n\r\n                            })}\r\n                        /></Grid>\r\n\r\n\r\n\r\n                    </Grid>\r\n                    <Divider sx={{mt:4}} />\r\n                    <Typography variant=\"h5\" sx={{ fontWeight: 700, mt: 4 }}>\r\n                        General Practitioners(GP / Doctors)\r\n                    </Typography>\r\n                    <Grid container mt={4} spacing={2}>\r\n\r\n\r\n                        <Grid item xs={3} mt={2}><InputField\r\n                            label={\"Name :\"}\r\n                            size={'small'}\r\n                            placeholder={\"Name\"}\r\n                            error={errors?.genname?.message}\r\n                            register={register(\"genname\", {\r\n                                required:\r\n                                    false\r\n\r\n                            })}\r\n                        /></Grid>\r\n\r\n                        <Grid item xs={3} mt={2}><InputField\r\n                            label={\"Email :\"}\r\n                            size={'small'}\r\n                            placeholder={\"Email\"}\r\n                            error={errors?.genemail?.message}\r\n                            register={register(\"genemail\", {\r\n                                required:\r\n                                    false\r\n\r\n                            })}\r\n                        /></Grid>\r\n\r\n                        <Grid item xs={3} mt={2}><InputField\r\n                            label={\"Phone Number :\"}\r\n                            size={'small'}\r\n                            placeholder={\"Phone Number\"}\r\n                            error={errors?.genphone?.message}\r\n                            register={register(\"genphone\", {\r\n                                required:\r\n                                    false\r\n\r\n                            })}\r\n                        /></Grid>\r\n\r\n                        <Grid item xs={3} mt={2}><InputField\r\n                            label={\"Address :\"}\r\n                            size={'small'}\r\n                            placeholder={\"Address\"}\r\n                            error={errors?.genaddress?.message}\r\n                            register={register(\"genaddress\", {\r\n                                required:\r\n                                    false\r\n\r\n                            })}\r\n                        /></Grid>\r\n\r\n\r\n\r\n                    </Grid>\r\n                    <Box sx={{ display: 'flex', justifyContent: 'flex-end', width: '100%', mt: 2 }}>\r\n                        <PrimaryButton loader={loader} disabled={loader} type={'submit'} title={\"Create\"} />\r\n                    </Box>\r\n                </Box>\r\n            </Paper>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default CreatePatient\r\n"
        }
    ]
}